<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
  <title>Tennis Scoreboard PWA</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <meta name="theme-color" content="#111111" />
  <style>
    :root{
      --bg:#0b0b0c;
      --card:#121214;
      --card2:#17171a;
      --stroke:rgba(255,255,255,.08);
      --stroke2:rgba(255,255,255,.12);
      --text:#f2f2f2;
      --muted:#b8b8b8;
      --muted2:#8f8f8f;
      --accent:#3ddc84;
      --danger:#ff4d4d;
      --blue:#4da3ff;

      --r:18px;
      --gap:12px;
      --hctl:54px; /* âœ… ì„¤ì • ì»¨íŠ¸ë¡¤ ë†’ì´ */

      /* âœ… Board auto-fit */
      --paperH: clamp(84px, 18vh, 130px);
      --paperFS: clamp(44px, 9vh, 72px);
      --actionH: clamp(46px, 10vh, 54px);
      --histMaxH: clamp(140px, 26vh, 240px);
    
      --safariBar: 0px;
}

    *{ box-sizing:border-box; }
    html{
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    html,body{ height:100%; }
    body{
      margin:0;
      background: radial-gradient(1200px 900px at 20% 10%, rgba(61,220,132,.12), transparent 60%),
                  radial-gradient(900px 700px at 80% 20%, rgba(77,163,255,.10), transparent 65%),
                  var(--bg);
      color:var(--text);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", sans-serif;
      -webkit-font-smoothing:antialiased;
      overflow:hidden;
      min-height: var(--appH, 100vh);
    }

    .wrap{
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: var(--appH, 100vh);
      margin: 0;
      padding: calc(14px + env(safe-area-inset-top, 0px))
               calc(14px + env(safe-area-inset-right, 0px))
               calc(34px + env(safe-area-inset-bottom, 0px))
               calc(14px + env(safe-area-inset-left, 0px));
      padding-bottom: calc(18px + env(safe-area-inset-bottom, 0px) + var(--safariBar));
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
    }


    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      border:1px solid var(--stroke);
      border-radius: var(--r);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      overflow:hidden;
    }

    .panelInner{ padding: 18px; }

    h2{
      margin:0 0 10px;
      font-size: 22px;
      letter-spacing: -.2px;
    }

    .runtimeError{
      display:none;
      margin: 0 0 12px;
      padding: 12px 14px;
      border-radius: 14px;
      border:1px solid rgba(255,80,80,.35);
      background: rgba(150,0,0,.22);
      color:#ffd7d7;
      font-size: 13px;
      white-space: pre-wrap;
    }

    /* ===== Setup ===== */
    .setupTop{
      display:grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr) auto; /* âœ… 3ë“±ë¶„ X, NO-ADëŠ” ì½˜í…ì¸  í¬ê¸° */
      gap: var(--gap);
      align-items:end;
      margin-bottom: 14px;
    }
    @media (max-width: 820px){
      .setupTop{ grid-template-columns: 1fr; }
    }

    .field{ display:flex; flex-direction:column; gap:8px; min-width:0; }
    .fieldLabel{
      font-size:12px;
      font-weight:900;
      color:var(--muted);
      line-height:1.25;   /* âœ… ê¸€ì ì˜ë¦¼ ë°©ì§€ */
      padding-left:2px;
      white-space:nowrap;
    }

    select, input[type="text"]{
      width:100%;
      height: var(--hctl);
      border-radius: 16px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.03);
      color: var(--text);
      padding: 0 14px;
      outline:none;
      font-size: 15px;
    }
    input[type="text"]::placeholder{ color: rgba(255,255,255,.35); }

    .noAdPill{
      height: var(--hctl);
      border-radius: 18px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.03);
      display:flex;
      align-items:center;
      gap:12px;
      padding: 0 14px;
      width: fit-content; /* âœ… ë²„íŠ¼ í¬ê¸°ì— ë§ì¶¤ */
      user-select:none;
    }
    .noAdPill.isOn{
      border-color: rgba(61,220,132,.45);
      box-shadow: 0 0 0 3px rgba(61,220,132,.10) inset;
    }
    .pillTxt{
      font-size: 12px;
      font-weight: 900;
      color: var(--muted);
      min-width: 28px;
      text-align:center;
    }

    /* Switch */
    .switch{ position:relative; display:inline-block; width: 56px; height: 30px; }
    .switch input{ opacity:0; width:0; height:0; }
    .slider{
      position:absolute; cursor:pointer; inset:0;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.18);
      transition: .2s;
      border-radius: 999px;
    }
    .slider:before{
      position:absolute; content:"";
      height: 24px; width: 24px;
      left: 3px; top: 50%;
      transform: translateY(-50%);
      background: #fff;
      transition: .2s;
      border-radius: 999px;
    }
    input:checked + .slider{
      background: rgba(61,220,132,.55);
      border-color: rgba(61,220,132,.55);
    }
    input:checked + .slider:before{ transform: translate(26px,-50%); }

    .namesGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--gap);
      margin: 8px 0 12px;
    }
    @media (max-width: 820px){
      .namesGrid{ grid-template-columns:1fr; }
    }

    .serverRow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--gap);
      margin-top: 8px;
    }

    /* âœ… ë³µì‹ ì²« ì„œë¸Œ ì„ íƒ(4ê°œ í•œì¤„) */
    #firstServerDoublesBtns{
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    /* âœ… ì„¤ì • ëª¨ë‹¬(ë³µì‹)ë„ ë™ì¼í•˜ê²Œ 4ê°œ í•œì¤„ */
    #m_firstServerDoublesBtns{
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: var(--gap);
    }
    @media (max-width: 820px){
      .serverRow{ grid-template-columns:1fr; }
    }

    .serverBtns{ display:flex; gap:12px; flex-wrap:wrap; }
    .serverBtn{
      flex:1;
      height: 48px;
      border-radius: 14px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.02);
      color: var(--text);
      font-weight:900;
      cursor:pointer;
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
    }
    .serverBtn.on{
      border-color: rgba(61,220,132,.55);
      background: rgba(61,220,132,.18);
    }

    .serverBtn.onB{
      border-color: rgba(77,163,255,.60);
      background: rgba(77,163,255,.18);
    }
    .serverBtn.onStart{
      border-color: rgba(245,200,90,.65);
      background: rgba(245,200,90,.16);
    }

    .btnRow{ display:flex; gap: 10px; margin-top: 14px; }
    .btn{
      height: 46px;
      padding: 0 18px;
      border-radius: 14px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight:900;
      cursor:pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .btnPrimary{
      background: rgba(61,220,132,.95);
      color:#06210f;
      border-color: rgba(61,220,132,.95);
    }

    .help{
      margin-top: 10px;
      font-size: 12px;
      color: var(--muted2);
      line-height: 1.35;
    }

    /* ===== Board ===== */
    .topBar{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 12px;
      margin-bottom: 12px;
      flex-wrap:wrap;
    }
    .title{
      font-size: 22px;
      font-weight: 950;
      letter-spacing: -.2px;
    }
    .subTitle{ color: var(--muted); font-size: 12px; margin-top: 4px; }

    .badges{ display:flex; gap: 8px; flex-wrap:wrap; align-items:center; }
    .badge{
      height: 34px;
      padding: 0 12px;
      border-radius: 999px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.03);
      display:flex;
      align-items:center;
      font-weight: 900;
      font-size: 12px;
      color: var(--text);
      cursor:pointer;
      user-select:none;
    }


    /* awake select styled like badge */
    .awakeSelect{
      appearance: none;
      -webkit-appearance: none;
      background-image: linear-gradient(45deg, transparent 50%, var(--text) 50%), linear-gradient(135deg, var(--text) 50%, transparent 50%);
      background-position: calc(100% - 14px) 50%, calc(100% - 8px) 50%;
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
      padding-right: 26px;
    }
    .awakeSelect:focus{ outline: none; box-shadow: 0 0 0 2px rgba(255,255,255,.12); }
    .awakeSelect option{ color: #111; }
    .scoreGrid{
      display:grid;
      /* âœ… ì½”íŠ¸ ë³€ê²½ ë²„íŠ¼ì„ "ì‚¬ì´"ì— ê³ ì •: ì„œë¸Œê¶Œ ì´ë™ ì‹œ ë ˆì´ì•„ì›ƒ ë³€í™”ì—ë„ ìœ„ì¹˜ê°€ í”ë“¤ë¦¬ì§€ ì•Šê²Œ */
      grid-template-columns: 1fr 1fr;
      gap: var(--gap);
      margin-top: 10px;
      position: relative;
      align-items: stretch;
    }
    @media (max-width: 420px){
      /* ì•„ì£¼ ì‘ì€ í­ì—ì„œëŠ” ì¹´ë“œ íŒ¨ë”©/ê¸€ìë¥¼ ì¤„ì—¬ 2ì—´ ìœ ì§€ */
      .scoreCard{ padding: 10px; }
      .playerName{ font-size: 12px; }
      .paper{ font-size: clamp(40px, 10vw, 58px); }
    }

    .scoreCard{
      background: rgba(255,255,255,.02);
      border:1px solid var(--stroke);
      border-radius: 18px;
      padding: 12px;
      position:relative;
      overflow:hidden;
    }
    .playerName{
      font-weight: 950;
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    .paper{
      background: rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.08);
      border-radius: 18px;
      height: clamp(92px, 18vh, 130px);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: clamp(44px, 9vh, 72px);
      font-weight: 950;
      letter-spacing: -1px;
      position:relative;
    }
    .tbSup{
      position:absolute;
      right: 12px;
      top: 10px;
      font-size: 16px;
      font-weight: 950;
      color: var(--muted);
    }
    .paperMeta{
      display:flex;
      justify-content:space-between;
      margin-top: 10px;
      font-weight: 950;
      color: var(--muted);
      font-size: 13px;
    }

    .flip{ animation: flip .32s ease; }
    .nudge{ animation: nudge .2s ease; }
    @keyframes flip{ 0%{ transform: rotateX(0deg);} 100%{ transform: rotateX(360deg);} }
    @keyframes nudge{ 0%{ transform: scale(1);} 100%{ transform: scale(1.02);} }

    /* ===== History table ===== */
    .histBox{
      margin-top: 14px;
      max-height: var(--histMaxH);
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      background: rgba(255,255,255,.02);
      border:1px solid var(--stroke);
      border-radius: 18px;
      padding: 12px;
      overflow-x:auto;
      overflow-y:auto;
      max-height: clamp(180px, 30vh, 360px);
      -webkit-overflow-scrolling: touch;
    }
    .histTitle{
      font-weight: 950;
      margin: 0 0 10px;
      font-size: 14px;
      color: var(--text);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      white-space:nowrap;
    }
    table{ border-collapse:collapse; width:100%; min-width: 860px; }
    th,td{
      border-bottom:1px solid rgba(255,255,255,.06);
      padding: 8px 10px;
      text-align:center;
      font-size: 12px;
      white-space:nowrap;
    }
    th{ color: var(--muted); font-weight: 950; }
    td.team{ text-align:left; font-weight: 950; color: var(--text); }
    th.setCol, td.setCol{
      background: rgba(77,163,255,.10);
      border-bottom-color: rgba(77,163,255,.16);
    }
    td.setCol.isLive{
      box-shadow: 0 0 0 2px rgba(77,163,255,.18) inset;
    }
    .sepRight{ border-right: 2px solid rgba(255,255,255,.10); }

    /* âœ… NO-AD ë“€ìŠ¤ ê²°ì •í¬ì¸íŠ¸ ìŠ¹ì 40 ê°•ì¡° */
    .noAdWin40{
      color: var(--accent);
      font-weight: 950;
      text-shadow: 0 0 18px rgba(61,220,132,.28);
    }

    /* Buttons */
    .actionRow{
      display:grid;
      grid-template-columns: 1fr 1fr; /* âœ… v22.7: ë“ì  ë²„íŠ¼ë„ ì¢Œ/ìš° */
      gap: var(--gap);
      margin-top: 14px;
    }
    .actionBtn{
      height: clamp(44px, 7vh, 54px);
      border-radius: 16px;
      border:1px solid var(--stroke2);
      background: rgba(61,220,132,.95);
      color:#06210f;
      font-weight: 950;
      cursor:pointer;
      font-size: 16px;
    }
    .actionBtn.secondary{
      background: rgba(255,255,255,.05);
      color: var(--text);
    }
    .actionBtn.danger{
      background: rgba(255,77,77,.95);
      color:#2b0000;
      border-color: rgba(255,77,77,.95);
    }

    .footerBtns{
      margin-top: 10px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
    }
    .footerBtns .btn{ height: 40px; }

    /* âœ… ì‘ì€ í™”ë©´(ì„¸ë¡œ)ì—ì„œ ìŠ¤ì½”ì–´ í™”ë©´ì´ 'ì§¤ë ¤ ë³´ì´ëŠ”' í˜„ìƒ ë°©ì§€: ìš”ì†Œ ë†’ì´ ìë™ ì¶•ì†Œ */
    @media (max-height: 760px){
      .panelInner{ padding: 14px; }
      .scoreCard{ padding: 10px; }
      .paperMeta{ font-size: 12px; }
      .scoreGrid{ gap: 10px; }
      .actionRow{ gap: 10px; margin-top: 12px; }
      .histBox{ margin-top: 12px; }
    }

  
    /* ===== Board Fit (v22.4) : small height devices / portrait start ===== */
    @media (max-height: 780px){
      .panelInner{ padding: 14px; }
      .topBar{ margin-bottom: 10px; }
      .title{ font-size: 20px; }
      .subTitle{ margin-top: 3px; }

      .paper{ height: 92px; font-size: 56px; }
      .scoreGrid{ gap: 10px; }
      .scoreCard{ padding: 10px; }

      .actionBtn{ height: 48px; font-size: 15px; border-radius: 14px; }
      .actionRow{ gap: 10px; margin-top: 10px; }

      .histBox{ margin-top: 10px; padding: 10px; max-height: 190px; overflow-y: auto; }
      .histTitle{ margin: 0 0 8px; }
      table{ min-width: 760px; }
      th,td{ padding: 7px 8px; }

      .footerBtns{ margin-top: 8px; }
      .footerBtns .btn{ height: 38px; }

      /* keep reset/undo visible by reducing vertical spacing */
      #winnerText{ margin: 4px 0 2px !important; }
    }

    /* Landscape: ensure board fills available height without clipping */
    @media (orientation: landscape){
      .panelInner{ padding: 14px; }
      .paper{ height: 96px; font-size: 58px; }
      .histBox{ max-height: 200px; overflow-y: auto; }
    }

  
    /* ===== v22.6: Score í™”ë©´(ë³´ë“œ) ì„¸ë¡œ ì˜ë¦¼ ë°©ì§€ ===== */
    /* wrapì€ í™”ë©´ì„ ê½‰ ì±„ìš°ê³ (ìŠ¤í¬ë¡¤ì€ ë³´ë“œ ë‚´ë¶€ì—ì„œ), iOS íšŒì „/ì£¼ì†Œì°½ ë³€í™”ì—ë„ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘ */
    .wrap{
      height: var(--appH, 100vh);
      overflow: hidden;
    }

    /* ë³´ë“œ ì¹´ë“œ ìì²´ë¥¼ í™”ë©´ ë†’ì´ì— ë§ì¶¤ (ì„¤ì •ì¹´ë“œëŠ” ê¸°ì¡´ì²˜ëŸ¼ ìì—° ë†’ì´) */
    #boardCard{
      height: calc(var(--appH, 100vh) - 18px);
    }
    #boardCard .panelInner{
      height: 100%;
      overflow-y: auto;      /* âœ… ë³´ë“œ ë‚´ë¶€ì—ì„œ ìŠ¤í¬ë¡¤ */
      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
      padding-bottom: calc(18px + env(safe-area-inset-bottom, 0px) + var(--safariBar, 0px));
    }

    /* ì„¸ë¡œ(ì‘ì€ ë†’ì´)ì—ì„œ ì ìˆ˜íŒ/ë²„íŠ¼/íˆìŠ¤í† ë¦¬ë¥¼ ìë™ ì¶•ì†Œ */
    @media (max-width: 820px){
      .paper{
        height: clamp(72px, 18vh, 110px);
        font-size: clamp(44px, 12vw, 68px);
      }
      .actionBtn{
        height: clamp(44px, 10vh, 54px);
        font-size: clamp(14px, 4.2vw, 16px);
      }
      .histBox{
        max-height: clamp(150px, 26vh, 240px);
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
    }

    /* ë˜ëŒë¦¬ê¸°/ë¦¬ì…‹ì€ í•­ìƒ í•˜ë‹¨ì— ë³´ì´ë„ë¡ sticky ì²˜ë¦¬ */
    .actionRow.stickyBottom{
      position: sticky;
      bottom: 0;
      background: rgba(11,11,12,.65);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding-top: 10px;
      padding-bottom: 10px;
      margin-bottom: 0;
      border-top: 1px solid rgba(255,255,255,.06);
    }

  
    /* ===== v22.8: ìƒë‹¨ ì„¤ì • ì•„ì´ì½˜ + ëª¨ë‹¬ ===== */
    .topRight{ display:flex; align-items:center; justify-content:flex-end; gap:10px; }
    .iconBtn{
      height: 40px;
      min-width: 40px;
      padding: 0 10px;
      border-radius: 14px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight: 950;
      cursor:pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    .modal{ position: fixed; inset:0; z-index: 9999; }
    .modalBackdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }
    .modalSheet{
      position:absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 12px;
      width: min(720px, calc(100% - 18px));
      max-height: calc(var(--appH, 100vh) - 24px);
      overflow:hidden;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(18,18,20,.96);
      box-shadow: 0 20px 80px rgba(0,0,0,.6);
    }
    .modalHeader{
      display:flex; align-items:center; justify-content:space-between;
      gap: 10px;
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .modalTitle{ font-weight:950; font-size:16px; }
    .modalBody{
      padding: 12px 14px 14px;
      overflow:auto;
      max-height: calc(var(--appH, 100vh) - 110px);
      -webkit-overflow-scrolling: touch;
    }
    .settingCol{display:flex;flex-direction:column;gap:6px;}
    .settingRow{
      display:grid;
      grid-template-columns: 110px 1fr;
      gap: 10px;
      align-items:center;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,.04);
    }
    .settingLabel{ color: var(--muted); font-weight: 950; font-size: 12px; }
    .hint{ grid-column: 2 / 3; color: rgba(255,255,255,.45); font-size: 11px; margin-top: -4px; }
    .dangerBadge{ background: rgba(255,77,77,.95) !important; color:#2b0000 !important; border-color: rgba(255,77,77,.95) !important; }

    /* ===== v22.8: ì½”íŠ¸/ì„œë¸Œ ì •ë³´(ê¸°ì¡´ title ì•„ë˜ í•œì¤„ ì œê±°) ===== */
    .cornerInfo{
      position:absolute;
      right: 12px;
      top: 12px;
      font-size: 12px;
      font-weight: 950;
      color: rgba(255,255,255,.78);
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      pointer-events:none;
      max-width: 60%;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .scoreCard{ position:relative; }

    /* ===== v22.8: ì½”íŠ¸ ë³€ê²½ ë²„íŠ¼(ì ìˆ˜íŒ ì‚¬ì´) ===== */
    .midRow{ display:flex; justify-content:center; margin-top: 10px; }
    .midBtn{
      height: 44px;
      padding: 0 16px;
      border-radius: 999px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight: 950;
      cursor:pointer;
    }

  
    /* ===== v22.9: ìƒë‹¨ ê³µê°„ ì••ì¶• + ì•„ì´ì½˜ ì •ë ¬ ===== */
    .topBar{
      margin-bottom: 6px !important;
      flex-wrap: nowrap !important;
    }
    .titleRow{ display:flex; align-items:center; }
    .title{ font-size: 30px; line-height: 1.05; }
    .topRight{ display:flex; align-items:center; gap:10px; }
    .miniBtn{
      height: 40px;
      min-width: 44px;
      padding: 0 12px;
      border-radius: 14px;
      border:1px solid var(--stroke2);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight: 950;
      cursor:pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .dangerMini{
      background: rgba(255,77,77,.18);
      border-color: rgba(255,77,77,.45);
      color: rgba(255,255,255,.95);
    }
    @media (max-width: 820px){
      .panelInner{ padding-top: 12px; }
      .title{ font-size: 28px; }
      .scoreGrid{ margin-top: 6px; }
      .paper{
        height: clamp(64px, 17vh, 100px);
        font-size: clamp(38px, 10.5vw, 62px);
      }
      .actionBtn{
        height: clamp(40px, 9.5vh, 50px);
        font-size: clamp(13px, 4vw, 15px);
      }
      .midBtn{ height: 40px; }
      .histBox{ max-height: clamp(140px, 24vh, 210px); }
    }

  
    /* ===== v22.10: ìƒë‹¨ ì•„ì´ì½˜ ê°€ë…ì„± ê°•í™” ===== */
    .miniBtn, .iconBtn{
      height: 48px;
      min-width: 56px;
      border-radius: 16px;
      font-size: 22px;
      letter-spacing: .2px;
    }
    .btnTxt{
      margin-left: 6px;
      font-size: 12px;
      font-weight: 950;
      opacity: .85;
      vertical-align: middle;
    }
    @media (max-width: 420px){
      .miniBtn, .iconBtn{ min-width: 52px; height: 46px; font-size: 22px; }
      .btnTxt{ display:none; } /* ì‘ì€ í™”ë©´ì—ì„  ì•„ì´ì½˜ë§Œ */
    }

    /* ===== v22.10: ì„œë¸Œê¶Œ í‘œì‹œ(ì„œë¸Œì¼ ë•Œë§Œ) + ì ìˆ˜ë°•ìŠ¤ í•˜ì´ë¼ì´íŠ¸ ===== */
    .cornerInfo{ display:none; } /* ê¸°ë³¸ ìˆ¨ê¹€ */
    .scoreCard.serving .cornerInfo{ display:inline-flex; }
    .scoreCard.serving{
      border-color: rgba(85, 255, 170, .35);
      box-shadow: 0 0 0 2px rgba(85,255,170,.08) inset;
    }
    .scoreCard.serving .playerName{ color: rgba(85,255,170,1); }
    .scoreCard.serving .paper{
      background: rgba(85,255,170,.10);
      border-color: rgba(85,255,170,.20);
    }

    /* ===== v22.10: ê°€ë¡œëª¨ë“œì—ì„œ íˆìŠ¤í† ë¦¬/í˜„ì¬ì„¸íŠ¸ ì˜ì—­ í•œ í™”ë©´ì— ë§ì¶”ê¸° ===== */
    @media (orientation: landscape){
      .panelInner{ padding-top: 10px; }
      .scoreGrid{ margin-top: 6px; }
      .paper{ height: clamp(64px, 22vh, 110px); }
      .actionBtn{ height: 46px; }
      .midRow{ margin-top: 8px; }
      .histBox{
        max-height: clamp(120px, 30vh, 190px);
      }
      .histBox table{ font-size: 12px; }
      .histBox th, .histBox td{ padding: 6px 8px; }
    }

  
    /* ===== v22.11: ì„¸ë¡œëª¨ë“œ í•œ í™”ë©´ ë§ì¶¤(ì—¬ë°±/íˆìŠ¤í† ë¦¬/ì•ˆë‚´ ë¬¸êµ¬) ===== */
    @media (orientation: portrait){
      .panelInner{ padding-bottom: 10px; }
      .histBox{ max-height: clamp(120px, 22vh, 180px); }
      .help{ margin-top: 8px !important; font-size: 12px; line-height: 1.25; }
    }

    /* ===== v22.11: ë“€ìŠ¤/ì• ë“œ ë°°ì§€ ìœ„ì¹˜ë¥¼ ìœ„ë¡œ(íŒ€ëª… ë¼ì¸ìª½) ===== */
    .cornerInfo{
      top: 6px !important;
      right: 14px !important;
      transform: translateY(-6px);
    }

  
    /* ===== v22.12: ì„¸ë¡œëª¨ë“œ í•œ í™”ë©´ ë§ì¶¤(ìŠ¤í¬ë¡¤ ìµœì†Œí™”) ===== */
    @media (orientation: portrait){
      .panelInner{ padding-top: 10px; padding-bottom: 10px; }
      .topBar{ margin-bottom: 6px !important; }
      .title{ font-size: 30px; }
      .scoreGrid{ gap: 12px; margin-top: 6px; }
      .paper{ height: clamp(62px, 15.5vh, 96px); }
      .paper .big{ font-size: clamp(36px, 10vw, 58px); }
      .actionBtn{ height: clamp(42px, 8.5vh, 50px); }
      .histBox{ max-height: clamp(130px, 19vh, 180px); }
      .help{ font-size: 12px; margin-top: 8px !important; opacity: .65; }
    }

    /* ===== v22.12: ë“€ìŠ¤/ì• ë“œ ë°°ì§€ ìœ„ì¹˜(íŒ€ëª… ë¼ì¸ ìª½ìœ¼ë¡œ ì‚´ì§ ìœ„) ===== */
    .cornerInfo{
      top: 6px !important;
      transform: translateY(-6px);
    }

  
    /* ===== v22.15: ì„¸ë¡œëª¨ë“œ ìƒë‹¨ ì˜¤ë²„í”Œë¡œ ë°©ì§€ (UNDO/RESET/SET) ===== */
    .topBar{ flex-wrap: nowrap; }
    .topRight{ flex-shrink: 0; }
    @media (max-width: 520px){
      .title{ font-size: 28px; }
      .btnTxt{ display:none; } /* ì•„ì´ì½˜ë§Œ */
      .miniBtn, .iconBtn{
        height: 44px;
        min-width: 44px;
        padding: 0 10px;
        font-size: 22px;
      }
      .topRight{ gap:8px; }
    }
    @media (max-width: 380px){
      .title{ font-size: 26px; }
      .miniBtn, .iconBtn{ min-width: 40px; padding:0 8px; }
      .topRight{ gap:6px; }
    }

    /* ===== v22.15: ì„¤ì • ëª¨ë‹¬ ì„¹ì…˜ íƒ€ì´í‹€ ===== */
    .sectionTitle{
      margin-top: 10px;
      padding-top: 10px;
      font-weight: 950;
      font-size: 13px;
      color: rgba(255,255,255,.80);
      letter-spacing: .2px;
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .lockBadge{
      opacity: .72;
      pointer-events: none;
    }

  
    .versionPill{ position: fixed; right: 12px; top: 12px; bottom:auto; left:auto; height:auto; width:auto; padding: 10px 14px; border-radius: 999px; background: rgba(0,0,0,.45); color:#fff; font-weight:700; letter-spacing:.3px; font-size:14px; z-index: 9999; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
    /* Center modals */
    .modal{ align-items: center !important; justify-content: center !important; }
    .modalCard{ max-height: min(80dvh, 520px); }
    .modalBody{ overflow:auto; }
    /* Reset modal spacing (avoid overlap) */
    .resetChoiceGrid{ display:grid; grid-template-columns:1fr; gap:12px; }
    .resetChoiceDesc{ margin-top:6px; font-size:12px; opacity:.75; line-height:1.35; }

/* Overlay host for floating controls (between score boxes) */
.scoreOverlay{
  position:absolute;
  inset:0;
  z-index: 25;
  pointer-events:none;
}
.scoreOverlay .courtSwapBtn{
  pointer-events:auto;
}

/* Court swap button between score boxes */
.courtSwapBtn{
  /* âœ… ì¹´ë“œ ì‚¬ì´ì— 'ê²¹ì¹˜ê²Œ' ì˜¤ë²„ë ˆì´ (ë ˆì´ì•„ì›ƒì„ ë²Œë¦¬ì§€ ì•ŠìŒ) */
  position:absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 48px;
  height: 48px;
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid rgba(255,255,255,.26);
  background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.55));
  box-shadow: 0 12px 36px rgba(0,0,0,.55), 0 0 1px rgba(255,255,255,.06) inset;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 20;
  cursor: pointer;
  color: rgba(255,255,255,.92);
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease, color .12s ease;
}
.courtSwapBtn:hover{
  border-color: rgba(255,255,255,.36);
  background: linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.52));
}
.courtSwapBtn:active{
  transform: translate(-50%, -50%) scale(.96);
  box-shadow: 0 8px 24px rgba(0,0,0,.30);
}
.courtSwapBtn svg{ width: 26px; height: 26px; display:block; }

/* "ì½”íŠ¸ ë³€ê²½" ì‹œì  íŒíŠ¸: ì ì´ ì•„ë‹ˆë¼ 'ì› ì „ì²´'ë¡œ ê°•ì¡° */
.courtSwapBtn.hint{
  background: radial-gradient(circle at 30% 30%, rgba(255,235,150,.98), rgba(255,170,40,.92));
  border-color: rgba(255,220,90,.95);
  box-shadow: 0 14px 40px rgba(0,0,0,.55), 0 0 0 3px rgba(255,220,90,.22);
  color: rgba(20,20,20,.92);
}
.courtSwapBtn.hint:hover{
  background: radial-gradient(circle at 30% 30%, rgba(255,240,170,.98), rgba(255,175,55,.94));
}

#versionPill{
  position:absolute;
  top:-6px;
  right:-6px;
  z-index:10;
  opacity:.9;
  font-size:10px;
  padding:4px 6px;
  border-radius:999px;
  pointer-events:none;
}

#settingsBtn{position:relative; overflow:visible;}

.settingsVersionText{margin-top:6px; font-size:12px; opacity:.75;}


/* v22.21: doubles names in portrait -> A1,A2 left / B1,B2 right */
@media (orientation:portrait){
  #doublesBox .namesGrid{
    grid-auto-flow: column;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
  }
}



/* v22.25.x: modal doubles names grid matches setup (left A1/A2, right B1/B2) */
@media (orientation:portrait){
  #m_doublesBox .namesGrid{
    grid-auto-flow: column;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
  }
}

@media (max-width: 520px){
  #m_doublesBox .namesGrid{
    display:grid;
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: auto auto !important;
    grid-auto-flow: row !important;
    gap: 10px !important;
    width: 100% !important;
  }
  #m_doublesBox .namesGrid input{ min-width:0 !important; width:100% !important; box-sizing:border-box !important; }
  #m_pA1{ grid-column:1; grid-row:1; }
  #m_pA2{ grid-column:1; grid-row:2; }
  #m_pB1{ grid-column:2; grid-row:1; }
  #m_pB2{ grid-column:2; grid-row:2; }
}

/* v22.21: mobile portrait doubles grid force 2 columns and explicit placement */
@media (max-width: 520px){
  #doublesBox .namesGrid{
    display:grid;
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: auto auto !important;
    grid-auto-flow: row !important;
    gap: 10px !important;
  }
  #doublesBox .namesGrid input{ min-width:0 !important; width:100% !important; }
  #pA1{ grid-column:1; grid-row:1; }
  #pA2{ grid-column:1; grid-row:2; }
  #pB1{ grid-column:2; grid-row:1; }
  #pB2{ grid-column:2; grid-row:2; }
}



/* v22.21: ensure doubles input columns equal width */
@media (max-width: 520px){
  #doublesBox .namesGrid{
    width: 100% !important;
    grid-template-columns: minmax(0,1fr) minmax(0,1fr) !important;
  }
  #doublesBox .namesGrid input{
    box-sizing: border-box !important;
  }
}



/* v22.21: iPhone/PWA doubles inputs - force truly equal columns */
@media (max-width: 520px){
  #doublesInputs .namesGrid{
    width:100% !important;
    display:grid !important;
    column-gap:10px !important;
    row-gap:10px !important;
    grid-template-columns: calc((100% - 10px)/2) calc((100% - 10px)/2) !important;
    align-items:stretch !important;
    justify-content:stretch !important;
  }
  #doublesInputs .namesGrid input{
    width:100% !important;
    max-width:none !important;
    min-width:0 !important;
    box-sizing:border-box !important;
  }
  /* explicit placement */
  #pA1{ grid-column:1; grid-row:1; }
  #pA2{ grid-column:1; grid-row:2; }
  #pB1{ grid-column:2; grid-row:1; }
  #pB2{ grid-column:2; grid-row:2; }
}

</style>
</head>
<body>
  <div class="wrap">
    <div id="runtimeError" class="runtimeError"></div>

    <!-- ===== Setup ===== -->
    <section id="setupCard" class="panel">
      <div class="panelInner">
        <h2>ê²½ê¸° ì„¤ì •</h2>

        <div class="setupTop">
          <div class="field">
            <div class="fieldLabel">ë‹¨ì‹/ë³µì‹</div>
            <select id="mode">
              <option value="singles">ë‹¨ì‹</option>
              <option value="doubles" selected>ë³µì‹</option>
            </select>
          </div>

          <div class="field">
            <div class="fieldLabel">ì„¸íŠ¸ ë°©ì‹</div>
            <select id="bestOf">
              <option value="3">3ì„¸íŠ¸ 2ì„ ìŠ¹</option>
              <option value="5">5ì„¸íŠ¸ 3ì„ ìŠ¹</option>
            </select>
          </div>

          <div class="field">
            <div class="fieldLabel">NO-AD</div>
            <div id="noAdPill" class="noAdPill">
              <span class="pillTxt">OFF</span>
              <label class="switch" aria-label="NO-AD">
                <input id="noAd" type="checkbox" checked />
                <span class="slider"></span>
              </label>
              <span class="pillTxt">ON</span>
            </div>
          </div>
        </div>

        <div id="singlesInputs">
          <div class="fieldLabel">ë‹¨ì‹ ì„ ìˆ˜ ì´ë¦„</div>
          <div class="namesGrid">
            <input id="pA" type="text" placeholder="Player A" />
            <input id="pB" type="text" placeholder="Player B" />
          </div>

          <div class="fieldLabel">ì²« ì„œë¸Œ ì„ íƒ</div>
          <div class="serverRow" id="firstServerSinglesBtns">
            <button class="serverBtn" id="btnSS_A" type="button">A</button>
            <button class="serverBtn" id="btnSS_B" type="button">B</button>
          </div>
          <input id="firstServerSingles" type="hidden" value="A" />
        </div>

        <div id="doublesInputs" style="display:none;">
          <div class="fieldLabel">ë³µì‹ ì„ ìˆ˜ ì´ë¦„</div>
          <div class="namesGrid">
            <input id="pA1" type="text" placeholder="A1" />
            <input id="pB1" type="text" placeholder="B1" />
            <input id="pA2" type="text" placeholder="A2" />
            <input id="pB2" type="text" placeholder="B2" />
          </div>

          <div class="fieldLabel">ì²« ì„œë¸Œ ì„ íƒ</div>
          <!-- âœ… ë³µì‹: ê¸°ì¡´ 4ê°œ ë²„íŠ¼(í•œì¤„)ì—ì„œ 1ë²ˆ ì„ íƒ=ë…¹ìƒ‰, 2ë²ˆ ì„ íƒ=íŒŒë‘ -->
          <div class="serverRow" id="firstServerDoublesBtns">
            <button class="serverBtn" id="btnFS_A1" type="button" data-server="A1">A1</button>
            <button class="serverBtn" id="btnFS_A2" type="button" data-server="A2">A2</button>
            <button class="serverBtn" id="btnFS_B1" type="button" data-server="B1">B1</button>
            <button class="serverBtn" id="btnFS_B2" type="button" data-server="B2">B2</button>
          </div>

          <input id="firstServerDoubles" type="hidden" value="A1" />
          <!-- ë‚´ë¶€ ìƒíƒœ ìœ ì§€ìš©(í™”ë©´ì—ëŠ” ë…¸ì¶œí•˜ì§€ ì•ŠìŒ) -->
          <input id="doublesStartTeam" type="hidden" value="A" />
          <input id="doublesFirstA" type="hidden" value="A1" />
          <input id="doublesFirstB" type="hidden" value="B1" />
        </div>

        <div class="btnRow">
          <button id="startBtn" class="btn btnPrimary" type="button">ì‹œì‘</button>
          <button id="loadBtn" class="btn" type="button">ë¶ˆëŸ¬ì˜¤ê¸°</button>
        </div>
</div>
    </section>

    <!-- ===== Board ===== -->
    <section id="boardCard" class="panel" style="display:none; margin-top: 10px;">
      <div class="panelInner">
        <div class="topBar">
          <div class="titleRow">
            <div class="title">Tennis Scoreboard</div>
          </div>
          <div class="topRight">
            <button class="miniBtn" id="undoMiniBtn" type="button" aria-label="ë˜ëŒë¦¬ê¸°">âŸ²<span class="btnTxt">UNDO</span></button>
            <button class="miniBtn dangerMini" id="resetMiniBtn" type="button" aria-label="ë¦¬ì…‹">ğŸ§¹<span class="btnTxt">RESET</span></button>
            <!-- âœ… ì¶”ê°€: ì €ì¥ ë²„íŠ¼ (íŒŒë€ìƒ‰ ê³„ì—´) -->
            <button class="miniBtn saveMini" id="saveMiniBtn" type="button" aria-label="ì €ì¥">ğŸ’¾<span class="btnTxt">SAVE</span></button>
            <button class="iconBtn" id="settingsBtn" type="button" aria-label="ì„¤ì •">âš™ï¸<span class="btnTxt">SET</span></button>
          </div>
        </div>

        <div id="winnerText" style="display:none; font-weight:950; margin: 6px 0 2px;"></div>

        <div class="scoreGrid">
          <div class="scoreCard" id="cardA">
            <div class="playerName" id="nameA">A</div>
            <div class="cornerInfo" id="cornerInfoA"></div>
            <div class="paper" id="paperA">
              <span id="flapFaceTopA"></span>
              <span id="flapFaceBottomA" style="display:none;"></span>
              <span id="tbSupA" class="tbSup"></span>
            </div>
            <div class="paperMeta">
              <div>SET <span id="setsA">0</span></div>
              <div>GAME <span id="gamesA">0</span></div>
            </div>
          </div>

          <div class="scoreCard" id="cardB">
            <div class="playerName" id="nameB">B</div>
            <div class="cornerInfo" id="cornerInfoB"></div>
            <div class="paper" id="paperB">
              <span id="flapFaceTopB"></span>
              <span id="flapFaceBottomB" style="display:none;"></span>
              <span id="tbSupB" class="tbSup"></span>
            </div>
            <div class="paperMeta">
              <div>SET <span id="setsB">0</span></div>
              <div>GAME <span id="gamesB">0</span></div>
            </div>
          </div>
          <div id="scoreOverlay" class="scoreOverlay">
            <button id="courtSwapBtn" class="courtSwapBtn" type="button" aria-label="ì½”íŠ¸ ë³€ê²½">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <line x1="6" y1="12" x2="18" y2="12"></line>
                <polyline points="10 8 6 12 10 16"></polyline>
                <polyline points="14 8 18 12 14 16"></polyline>
              </svg>
            </button>
          </div>
        </div>

        <!-- ì‘ì€ ë’¤ì§‘ê¸°ìš© ì¢…ì´ -->
        <span id="paperGamesA" style="display:none;"></span>
        <span id="paperGamesB" style="display:none;"></span>
        <span id="paperSetsA" style="display:none;"></span>
        <span id="paperSetsB" style="display:none;"></span>

        <div class="midRow">
          
        </div>

        <div class="actionRow">
          <button id="btnPointA" class="actionBtn" type="button">â¬† ì¢Œ ë“ì </button>
          <button id="btnPointB" class="actionBtn" type="button">â¬† ìš° ë“ì </button>
        </div>




        <div class="histBox">
          <div class="histTitle">
            <span>ì„¸íŠ¸ íˆìŠ¤í† ë¦¬</span>
            <span style="color:var(--muted); font-size:12px;">í˜„ì¬ ì„¸íŠ¸ Â· ê²Œì„ë³„ í¬ì¸íŠ¸</span>
          </div>

          <table>
            <thead>
              <tr>
                <th>íŒ€</th>
                <th class="setCol">1set</th>
                <th class="setCol">2set</th>
                <th class="setCol">3set</th>
                <th class="setCol">4set</th>
                <th class="setCol sepRight">5set</th>
                <th>1G</th><th>2G</th><th>3G</th><th>4G</th><th>5G</th><th>6G</th><th>7G</th><th>8G</th><th>9G</th><th>10G</th><th>11G</th><th>12G</th><th>13G</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="team" id="ghTeamA">A</td>
                <td class="setCol" id="shA1"></td>
                <td class="setCol" id="shA2"></td>
                <td class="setCol" id="shA3"></td>
                <td class="setCol" id="shA4"></td>
                <td class="setCol sepRight" id="shA5"></td>

                <td id="ghA1"></td><td id="ghA2"></td><td id="ghA3"></td><td id="ghA4"></td><td id="ghA5"></td><td id="ghA6"></td><td id="ghA7"></td><td id="ghA8"></td><td id="ghA9"></td><td id="ghA10"></td><td id="ghA11"></td><td id="ghA12"></td><td id="ghA13"></td>
              </tr>
              <tr>
                <td class="team" id="ghTeamB">B</td>
                <td class="setCol" id="shB1"></td>
                <td class="setCol" id="shB2"></td>
                <td class="setCol" id="shB3"></td>
                <td class="setCol" id="shB4"></td>
                <td class="setCol sepRight" id="shB5"></td>

                <td id="ghB1"></td><td id="ghB2"></td><td id="ghB3"></td><td id="ghB4"></td><td id="ghB5"></td><td id="ghB6"></td><td id="ghB7"></td><td id="ghB8"></td><td id="ghB9"></td><td id="ghB10"></td><td id="ghB11"></td><td id="ghB12"></td><td id="ghB13"></td>
              </tr>
            </tbody>
          </table>

          <!-- í˜¸í™˜ìš©(êµ¬ë²„ì „ id ìœ ì§€) -->
          <span id="ghResultA" style="display:none;"></span>
          <span id="ghResultB" style="display:none;"></span>
        </div>
        
        
        <!-- ===== Reset Choice Modal (v22.11) ===== -->
        <div id="resetChoiceModal" class="modal" style="display:none;">
          <div class="modalBackdrop" id="resetChoiceBackdrop"></div>
          <div class="modalSheet" role="dialog" aria-modal="true" aria-label="ë¦¬ì…‹ ì„ íƒ">
            <div class="modalHeader">
              <div class="modalTitle">ë¦¬ì…‹
</div>
              <button class="iconBtn" id="resetChoiceCloseBtn" type="button" aria-label="ë‹«ê¸°">âœ•</button>
            </div>
            <div class="modalBody">
              <div class="settingRow">
                <div class="settingLabel">ì™„ì „ ì´ˆê¸°í™”</div>
                <button class="badge dangerBadge" id="resetFullBtn" type="button">ì„¤ì •í™”ë©´ + ì „ì²´ ì´ˆê¸°í™”</button>
                <div class="hint">â€» ì„¤ì • í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë©° ëª¨ë“  ì ìˆ˜/ì„¸íŠ¸ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.</div>
              </div>
              <div class="settingRow">
                <div class="settingLabel">ì ìˆ˜ ë¦¬ì…‹</div>
                <button class="badge" id="resetScoreOnlyBtn" type="button">ì ìˆ˜/ì„¸íŠ¸ë§Œ ë¦¬ì…‹</button>
                <div class="hint">â€» í˜„ì¬ í™”ë©´ì„ ìœ ì§€í•˜ê³  ì ìˆ˜/ì„¸íŠ¸ë§Œ 0ìœ¼ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.</div>
              </div>
            </div>
          </div>
        </div>

        <!-- ===== Settings Modal (v22.8) ===== -->
        <div id="settingsModal" class="modal" style="display:none;">
          <div class="modalBackdrop" id="settingsBackdrop"></div>
          <div class="modalSheet" role="dialog" aria-modal="true" aria-label="ì„¤ì •">
            <div class="modalHeader">
              <div class="modalTitle">ì„¤ì •</div>
              <div id="settingsVersionText" class="settingsVersionText">ë²„ì „ ì •ë³´ : v22.24.28</div>
              <button class="iconBtn" id="settingsCloseBtn" type="button" aria-label="ë‹«ê¸°">âœ•</button>
            </div>

            <div class="modalBody">
              <div class="sectionTitle">ê²½ê¸° ì„¤ì •</div>
              <div class="settingRow">
                <div class="settingLabel">ë‹¨ì‹/ë³µì‹</div>
                <button class="badge lockBadge" id="modeBadge" type="button">ë‹¨ì‹</button>
              </div>
              <div class="settingRow">
                <div class="settingLabel">ì„¸íŠ¸ ë°©ì‹</div>
                <button class="badge lockBadge" id="setNoBadge" type="button">Set 1</button>
              </div>
              <div class="settingRow">
                <div class="settingLabel">NO-AD</div>
                <button class="badge lockBadge" id="noAdBadge" type="button">NO-AD: ON</button>
              </div>
              
              <div class="settingRow" style="align-items:flex-start;">
                <div class="settingLabel">ì„ ìˆ˜/ì²«ì„œë¸Œ</div>
                <div class="settingCol" style="flex:1;">
                  <!-- Singles (modal) -->
                  <div id="m_singlesBox">
                    <div class="namesGrid" style="margin-top:2px;">
                      <input id="m_pA" type="text" placeholder="Player A" />
                      <input id="m_pB" type="text" placeholder="Player B" />
                    </div>
                    <div class="fieldLabel" style="margin-top:10px;">ì²« ì„œë¸Œ ì„ íƒ</div>
                    <div class="serverRow" id="m_firstServerSinglesBtns">
                      <button class="serverBtn" id="m_btnSS_A" type="button">A</button>
                      <button class="serverBtn" id="m_btnSS_B" type="button">B</button>
                    </div>
                    <input id="m_firstServerSingles" type="hidden" value="A" />
                  </div>

                  <!-- Doubles (modal) -->
                  <div id="m_doublesBox" style="display:none;">
                    <div class="namesGrid" style="margin-top:2px;">
                      <input id="m_pA1" type="text" placeholder="A1" />
                      <input id="m_pB1" type="text" placeholder="B1" />
                      <input id="m_pA2" type="text" placeholder="A2" />
                      <input id="m_pB2" type="text" placeholder="B2" />
                    </div>
                    <div class="fieldLabel" style="margin-top:10px;">ì²« ì„œë¸Œ ì„ íƒ</div>
                    <div class="serverBtns" id="m_firstServerDoublesBtns">
                      <button class="serverBtn" id="m_btnFS_A1" type="button" data-server="A1">A1</button>
                      <button class="serverBtn" id="m_btnFS_A2" type="button" data-server="A2">A2</button>
                      <button class="serverBtn" id="m_btnFS_B1" type="button" data-server="B1">B1</button>
                      <button class="serverBtn" id="m_btnFS_B2" type="button" data-server="B2">B2</button>
                    </div>
                    <input id="m_firstServerDoubles" type="hidden" value="A1" />
                  </div>
                </div>
              </div>

              <div class="sectionTitle">ê²½ê¸° ìš´ì˜ ì„¤ì •</div>

              <div class="settingRow">
                <div class="settingLabel">íƒ€ì´ë¸Œë ˆì´í¬</div>
                <button class="badge" id="tbBadge" type="button">TB: OFF</button>
              </div>
              <div class="settingRow">
                <div class="settingLabel">ì‚¬ìš´ë“œ</div>
                <button class="badge" id="soundBadge" type="button">ì‚¬ìš´ë“œ: OFF</button>
              </div>
              <div class="settingRow">
                <div class="settingLabel">í™”ë©´ ì ê¸ˆ ë°©ì§€</div>
                <select class="badge awakeSelect" id="awakeSelect" aria-label="í™”ë©´ ì ê¸ˆ ë°©ì§€ ì‹œê°„">
                  <option value="0">ì œí•œ ì—†ìŒ</option>
                  <option value="5">5ë¶„</option>
                  <option value="10">10ë¶„</option>
                  <option value="15">15ë¶„</option>
                  <option value="20">20ë¶„</option>
                  <option value="25">25ë¶„</option>
                  <option value="30">30ë¶„</option>
                  <option value="35">35ë¶„</option>
                  <option value="40">40ë¶„</option>
                  <option value="45">45ë¶„</option>
                  <option value="50">50ë¶„</option>
                  <option value="55">55ë¶„</option>
                  <option value="60">60ë¶„</option>
                </select>
              </div>

              <div class="sectionTitle">ê¸°íƒ€ ì„¤ì •</div>
              <div class="settingRow">
                <div class="settingLabel">ë˜ëŒë¦¬ê¸°</div>
                <button class="badge" id="undoBtn" type="button">ë˜ëŒë¦¬ê¸°</button>
              </div>
              <div class="settingRow">
                <div class="settingLabel">ë¦¬ì…‹</div>
                <button class="badge dangerBadge" id="resetBtn" type="button">ë¦¬ì…‹</button>
              </div>

              </div>
            </div>
          </div>
        </div>

        <div class="help" style="margin-top: 10px;">
          * TB(6:6)ì—ì„œëŠ” GAME ìˆ«ì ìš°ì¸¡ ìƒë‹¨ì— íƒ€ì´ë¸Œë ˆì´í¬ ì ìˆ˜ê°€ í‘œì‹œë©ë‹ˆë‹¤.
        </div>
      </div>
    </section>
  </div>

  <script src="app.js?v=v22.24.28"></script>
  <script>
    if("serviceWorker" in navigator){
      navigator.serviceWorker.register("./service-worker.js?v=v22.24.28").catch(()=>{});
    }
  </script>

    <div id="versionPill" class="versionPill" style="display:none;">JS v22.24.28</div>

</body>
</html>
